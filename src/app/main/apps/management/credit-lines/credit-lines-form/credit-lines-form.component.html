<form class="mat-card  p-24 " fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="form" #creditLineForm="ngForm">
    <div class="h2 mb-24">{{this.tittle}} Destino de Credito</div>
    <hr>

    <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="100" class="">
            <mat-label>Descripción de destino de Crédito</mat-label>
            <input matInput  required  [(ngModel)]="creditLine.description" name="description" id="description"> 
            <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
            <mat-error>Nombre de destino de crédito!</mat-error>
        </mat-form-field>

    </div>

    <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">


        <mat-form-field appearance="outline" fxFlex="100" class="">
            <mat-label>Agencia</mat-label>
            <mat-select name="organizacion" id="organizacion" [(ngModel)]="creditLine.organization.organizationKey"  required>
                <mat-option *ngFor="let agency of agencias" [value]="agency.organizationKey">
                    {{agency.organizationName}}
                </mat-option>
            </mat-select>
            <mat-icon matSuffix class="secondary-text">outlined_flag</mat-icon>
            <mat-error>agencia es requerido!</mat-error>
        </mat-form-field>

    </div>



    <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
        
        <button *ngIf="this.action === 'new'"
            (click)="saveForm()"
            [disabled]="creditLineForm.invalid" 
            class="mr-8" 
            mat-raised-button 
            color="primary">
            Guardar
        </button>

        <button 
            *ngIf="this.action === 'edit'"
            (click)="saveForm()"
            [disabled]="creditLineForm.invalid" 
            class="mr-8" 
            mat-raised-button 
            color="primary">
            Actualizar Datos
        </button>


        <button 
            (click)="dialogRef.close()"
            class="mr-8" 
            mat-raised-button 
            color="primary">
            Cancelar
        </button>

    </div>

</form>

